{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\39338\\\\salus\\\\salus-frontend\\\\src\\\\AIAssistant.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport API from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AIAssistant({\n  userId\n}) {\n  _s2();\n  const [userMessage, setUserMessage] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [userProfile, setUserProfile] = useState(null);\n  const [userSymptoms, setUserSymptoms] = useState([]);\n  const [showIntro, setShowIntro] = useState(true);\n  const [suggestedQuestions, setSuggestedQuestions] = useState([\"Come posso alleviare il mal di testa?\", \"Quali sono i sintomi più comuni dell'influenza?\", \"Dovresti consultare un medico per mal di stomaco persistente?\", \"Come posso migliorare la qualità del sonno?\", \"Quali sono i benefici dell'esercizio fisico regolare?\"]);\n  const messagesEndRef = useRef(null);\n  const chatContainerRef = useRef(null);\n\n  // Carica i dati dell'utente all'avvio\n  useEffect(() => {\n    if (userId) {\n      fetchUserData();\n      fetchUserSymptoms();\n\n      // Carica la conversazione precedente dal localStorage\n      const savedConversation = localStorage.getItem(`aiConversation_${userId}`);\n      if (savedConversation) {\n        try {\n          setConversation(JSON.parse(savedConversation));\n          setShowIntro(false);\n        } catch (e) {\n          console.error('Errore nel parsing della conversazione salvata:', e);\n        }\n      }\n    }\n  }, [userId]);\n\n  // Salva la conversazione nel localStorage quando cambia\n  useEffect(() => {\n    if (userId && conversation.length > 0) {\n      localStorage.setItem(`aiConversation_${userId}`, JSON.stringify(conversation));\n    }\n  }, [conversation, userId]);\n\n  // Scroll automatico alla fine della conversazione\n  useEffect(() => {\n    scrollToBottom();\n  }, [conversation, isLoading]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const fetchUserData = async () => {\n    try {\n      const response = await API.get(`/auth/users/${userId}`);\n      setUserProfile(response.data);\n    } catch (error) {\n      console.error('Errore nel caricamento del profilo:', error);\n      showErrorToast('Impossibile caricare il profilo utente');\n    }\n  };\n  const fetchUserSymptoms = async () => {\n    try {\n      const response = await API.get(`/symptoms/${userId}`);\n      setUserSymptoms(response.data);\n\n      // Genera domande suggerite in base ai sintomi\n      if (response.data.length > 0) {\n        generateSuggestedQuestions(response.data);\n      }\n    } catch (error) {\n      console.error('Errore nel caricamento dei sintomi:', error);\n      showErrorToast('Impossibile caricare i sintomi');\n    }\n  };\n  const generateSuggestedQuestions = symptoms => {\n    if (symptoms.length === 0) return;\n\n    // Prendi i sintomi più recenti\n    const recentSymptoms = symptoms.slice(0, 3);\n\n    // Genera domande personalizzate\n    const customQuestions = recentSymptoms.map(symptom => `Come posso gestire il mio ${symptom.description.toLowerCase()}?`);\n\n    // Aggiungi domande generali\n    const generalQuestions = [\"Quali sono i pattern nei miei sintomi?\", \"Dovrei essere preoccupato per questi sintomi?\", \"Cosa posso fare per migliorare il mio benessere generale?\"];\n    setSuggestedQuestions([...customQuestions, ...generalQuestions].slice(0, 5));\n  };\n  const sendMessageToAI = async () => {\n    if (!userMessage.trim() && !isLoading) return;\n\n    // Aggiungi il messaggio utente alla conversazione\n    const newUserMessage = {\n      role: 'user',\n      content: userMessage\n    };\n    const updatedConversation = [...conversation, newUserMessage];\n    setConversation(updatedConversation);\n    setUserMessage('');\n    setShowIntro(false);\n\n    // Prepara il contesto per OpenAI\n    setIsLoading(true);\n    try {\n      // Animazione di \"sta scrivendo\"\n      setTimeout(() => {\n        scrollToBottom();\n      }, 100);\n\n      // Versione semplificata della chiamata API\n      const response = await API.post('/ai/chat', {\n        message: newUserMessage.content\n      });\n\n      // Se c'è una risposta, aggiungila alla conversazione\n      if (response.data && response.data.reply) {\n        // Aggiungi la risposta alla conversazione\n        setConversation([...updatedConversation, {\n          role: 'assistant',\n          content: response.data.reply\n        }]);\n      } else {\n        throw new Error('Risposta AI non valida');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Errore nella chiamata AI:', error);\n      setConversation([...updatedConversation, {\n        role: 'assistant',\n        content: 'Mi dispiace, si è verificato un errore nella comunicazione. Riprova più tardi o controlla la tua connessione Internet.',\n        error: true\n      }]);\n      showErrorToast('Errore nella comunicazione con l\\'assistente: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n    } finally {\n      setIsLoading(false);\n      setTimeout(() => {\n        scrollToBottom();\n      }, 100);\n    }\n  };\n\n  // Prepara il contesto con i dati dell'utente\n  const prepareContext = () => {\n    const recentSymptoms = userSymptoms.slice(0, 5);\n    return {\n      profile: userProfile,\n      recentSymptoms: recentSymptoms,\n      symptomSummary: summarizeSymptoms(userSymptoms)\n    };\n  };\n\n  // Crea un riepilogo dei sintomi\n  const summarizeSymptoms = symptoms => {\n    const symptomsGrouped = {};\n    symptoms.forEach(s => {\n      if (!symptomsGrouped[s.description]) {\n        symptomsGrouped[s.description] = [];\n      }\n      symptomsGrouped[s.description].push(s.intensity);\n    });\n    return Object.keys(symptomsGrouped).map(desc => ({\n      description: desc,\n      avgIntensity: calculateAverage(symptomsGrouped[desc]),\n      occurrences: symptomsGrouped[desc].length\n    }));\n  };\n  const calculateAverage = arr => {\n    return arr.reduce((a, b) => a + b, 0) / arr.length;\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessageToAI();\n    }\n  };\n  const useSuggestedQuestion = question => {\n    var _document$getElementB;\n    setUserMessage(question);\n    // Focus all'input\n    (_document$getElementB = document.getElementById('messageInput')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.focus();\n  };\n  const showErrorToast = message => {\n    // Implementazione semplice di un toast di errore\n    const toast = document.createElement('div');\n    toast.className = 'error-toast';\n    toast.textContent = message;\n    document.body.appendChild(toast);\n    setTimeout(() => {\n      toast.classList.add('fade-out');\n      setTimeout(() => {\n        document.body.removeChild(toast);\n      }, 300);\n    }, 3000);\n  };\n  const clearConversation = () => {\n    if (window.confirm('Sei sicuro di voler cancellare tutta la conversazione?')) {\n      setConversation([]);\n      setShowIntro(true);\n      localStorage.removeItem(`aiConversation_${userId}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ai-assistant-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-robot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), \" Assistente Salus AI\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), conversation.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline btn-sm\",\n        onClick: clearConversation,\n        title: \"Cancella conversazione\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-trash-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), \" Cancella\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      ref: chatContainerRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: [showIntro ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"intro-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-robot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Ciao! Sono il tuo assistente personale Salus.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Sono qui per aiutarti con informazioni sulla salute, consigli per il benessere e per rispondere alle tue domande sui sintomi. Cosa posso fare per te oggi?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"capabilities\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-notes-medical\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Informazioni sui sintomi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-heartbeat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Consigli per il benessere\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-pills\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Informazioni sui medicinali\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chart-line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Analisi dei pattern\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"disclaimer\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-info-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Ricorda: non sono un medico e non posso fornire diagnosi mediche. Per problemi di salute seri, consulta sempre un professionista sanitario.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this) : null, conversation.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${msg.role === 'user' ? 'message-user' : 'message-assistant'} ${msg.error ? 'message-error' : ''}`,\n          children: [msg.role === 'assistant' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-robot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-text\",\n              children: msg.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-time\",\n              children: new Date().toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message message-assistant message-typing\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-robot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), suggestedQuestions.length > 0 && showIntro && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggested-questions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Domande suggerite:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"questions-container\",\n          children: suggestedQuestions.map((question, index) => {\n            var _s = $RefreshSig$();\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"suggested-question\",\n              onClick: _s(() => {\n                _s();\n                return useSuggestedQuestion(question);\n              }, \"JxWgUhVoMn19L8kDGrZ1f9M6WyY=\", false, function () {\n                return [useSuggestedQuestion];\n              }),\n              children: question\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"messageInput\",\n          className: \"chat-input\",\n          placeholder: \"Scrivi un messaggio...\",\n          value: userMessage,\n          onChange: e => setUserMessage(e.target.value),\n          onKeyPress: handleKeyPress,\n          disabled: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `send-button ${userMessage.trim() && !isLoading ? 'active' : ''}`,\n          onClick: sendMessageToAI,\n          disabled: !userMessage.trim() || isLoading,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-paper-plane\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"powered-by\",\n      children: [\"Powered by \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"brand\",\n        children: \"OpenAI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 20\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-bolt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 58\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .ai-assistant-container {\n          padding: var(--space-2);\n        }\n        \n        .section-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: var(--space-4);\n        }\n        \n        .section-header h2 {\n          margin: 0;\n          color: var(--gray-800);\n          display: flex;\n          align-items: center;\n          gap: var(--space-2);\n        }\n        \n        .section-header h2 i {\n          color: var(--primary-600);\n        }\n        \n        .chat-container {\n          display: flex;\n          flex-direction: column;\n          height: 60vh;\n          min-height: 400px;\n          border-radius: var(--radius-lg);\n          overflow: hidden;\n          background-color: var(--gray-100);\n          box-shadow: var(--shadow-md);\n          border: 1px solid var(--gray-200);\n        }\n        \n        .chat-messages {\n          flex: 1;\n          overflow-y: auto;\n          padding: var(--space-4);\n          display: flex;\n          flex-direction: column;\n          gap: var(--space-3);\n        }\n        \n        .message {\n          display: flex;\n          max-width: 85%;\n          margin-bottom: var(--space-3);\n          animation: fadeIn 0.3s ease;\n        }\n        \n        .message-user {\n          margin-left: auto;\n          flex-direction: row-reverse;\n        }\n        \n        .message-assistant {\n          margin-right: auto;\n        }\n        \n        .message-avatar {\n          width: 36px;\n          height: 36px;\n          border-radius: 50%;\n          background-color: var(--primary-600);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: var(--space-2);\n        }\n        \n        .message-content {\n          background-color: var(--white);\n          padding: var(--space-3);\n          border-radius: var(--radius-lg);\n          box-shadow: var(--shadow-sm);\n          position: relative;\n        }\n        \n        .message-user .message-content {\n          background-color: var(--primary-600);\n          color: var(--white);\n          border-bottom-right-radius: var(--space-1);\n        }\n        \n        .message-assistant .message-content {\n          background-color: var(--white);\n          border-bottom-left-radius: var(--space-1);\n        }\n        \n        .message-error .message-content {\n          background-color: var(--danger);\n          color: var(--white);\n        }\n        \n        .message-text {\n          word-break: break-word;\n        }\n        \n        .message-time {\n          font-size: var(--font-size-xs);\n          color: var(--gray-500);\n          margin-top: var(--space-1);\n          text-align: right;\n        }\n        \n        .message-user .message-time {\n          color: rgba(255, 255, 255, 0.7);\n        }\n        \n        .message-typing {\n          opacity: 0.7;\n        }\n        \n        .typing-indicator {\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          gap: 5px;\n        }\n        \n        .typing-indicator span {\n          width: 8px;\n          height: 8px;\n          background-color: var(--gray-400);\n          border-radius: 50%;\n          display: inline-block;\n          animation: typing 1.4s infinite both;\n        }\n        \n        .typing-indicator span:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n        \n        .typing-indicator span:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n        \n        @keyframes typing {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.5); }\n          100% { transform: scale(1); }\n        }\n        \n        .intro-message {\n          display: flex;\n          padding: var(--space-4);\n          background-color: var(--white);\n          border-radius: var(--radius-lg);\n          margin-bottom: var(--space-3);\n          box-shadow: var(--shadow-md);\n        }\n        \n        .assistant-avatar {\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          background-color: var(--primary-600);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: var(--space-3);\n          flex-shrink: 0;\n          font-size: var(--font-size-lg);\n        }\n        \n        .intro-content {\n          flex: 1;\n        }\n        \n        .intro-content h3 {\n          margin-top: 0;\n          margin-bottom: var(--space-2);\n          color: var(--gray-900);\n        }\n        \n        .capabilities {\n          display: flex;\n          flex-wrap: wrap;\n          gap: var(--space-3);\n          margin: var(--space-3) 0;\n        }\n        \n        .capability {\n          display: flex;\n          align-items: center;\n          background-color: var(--primary-100);\n          padding: var(--space-2) var(--space-3);\n          border-radius: var(--radius-full);\n          font-size: var(--font-size-sm);\n          color: var(--primary-800);\n        }\n        \n        .capability i {\n          margin-right: var(--space-2);\n          color: var(--primary-600);\n        }\n        \n        .disclaimer {\n          display: flex;\n          align-items: flex-start;\n          gap: var(--space-2);\n          background-color: var(--gray-100);\n          padding: var(--space-3);\n          border-radius: var(--radius-md);\n          font-size: var(--font-size-sm);\n          color: var(--gray-700);\n          margin-top: var(--space-3);\n        }\n        \n        .disclaimer i {\n          color: var(--warning);\n          margin-top: 3px;\n        }\n        \n        .disclaimer p {\n          margin: 0;\n        }\n        \n        .suggested-questions {\n          padding: var(--space-3);\n          background-color: var(--gray-100);\n          border-top: 1px solid var(--gray-200);\n        }\n        \n        .suggested-questions h4 {\n          margin-top: 0;\n          margin-bottom: var(--space-2);\n          font-size: var(--font-size-sm);\n          color: var(--gray-600);\n        }\n        \n        .questions-container {\n          display: flex;\n          flex-wrap: wrap;\n          gap: var(--space-2);\n        }\n        \n        .suggested-question {\n          background-color: var(--white);\n          border: 1px solid var(--gray-300);\n          border-radius: var(--radius-full);\n          padding: var(--space-1) var(--space-3);\n          font-size: var(--font-size-sm);\n          color: var(--gray-800);\n          cursor: pointer;\n          transition: all var(--transition-normal);\n        }\n        \n        .suggested-question:hover {\n          background-color: var(--primary-100);\n          border-color: var(--primary-400);\n          color: var(--primary-700);\n        }\n        \n        .chat-input-container {\n          padding: var(--space-3);\n          background-color: var(--white);\n          border-top: 1px solid var(--gray-200);\n          display: flex;\n          gap: var(--space-2);\n          align-items: flex-end;\n        }\n        \n        .chat-input {\n          flex: 1;\n          padding: var(--space-3);\n          padding-right: 40px;\n          border: 1px solid var(--gray-300);\n          border-radius: var(--radius-lg);\n          resize: none;\n          min-height: 56px;\n          max-height: 150px;\n          transition: border-color var(--transition-normal);\n          background-color: var(--white);\n          font-family: var(--font-family);\n          line-height: 1.5;\n        }\n        \n        .chat-input:focus {\n          outline: none;\n          border-color: var(--primary-400);\n          box-shadow: 0 0 0 3px rgba(60, 157, 233, 0.1);\n        }\n        \n        .send-button {\n          position: relative;\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          background-color: var(--gray-300);\n          border: none;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          color: var(--white);\n          transition: all var(--transition-normal);\n        }\n        \n        .send-button:disabled {\n          cursor: not-allowed;\n          opacity: 0.5;\n        }\n        \n        .send-button.active {\n          background-color: var(--primary-600);\n        }\n        \n        .send-button.active:hover {\n          background-color: var(--primary-700);\n          transform: scale(1.05);\n        }\n        \n        .powered-by {\n          text-align: center;\n          font-size: var(--font-size-xs);\n          color: var(--gray-500);\n          margin-top: var(--space-3);\n        }\n        \n        .brand {\n          font-weight: 600;\n          color: var(--gray-700);\n        }\n        \n        .error-toast {\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          background-color: var(--danger);\n          color: white;\n          padding: var(--space-3) var(--space-4);\n          border-radius: var(--radius-md);\n          box-shadow: var(--shadow-md);\n          z-index: 1000;\n          animation: slideInUp 0.3s ease;\n        }\n        \n        .fade-out {\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n        \n        @media (max-width: 768px) {\n          .chat-container {\n            height: 70vh;\n          }\n          \n          .capabilities {\n            flex-direction: column;\n            gap: var(--space-2);\n          }\n          \n          .intro-message {\n            flex-direction: column;\n          }\n          \n          .assistant-avatar {\n            margin-bottom: var(--space-3);\n            align-self: center;\n            width: 64px;\n            height: 64px;\n            font-size: var(--font-size-xl);\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n}\n_s2(AIAssistant, \"T6eeNVEctIwUyK0FJ40VWw4+fkw=\");\n_c = AIAssistant;\nexport default AIAssistant;\nvar _c;\n$RefreshReg$(_c, \"AIAssistant\");","map":{"version":3,"names":["React","useState","useEffect","useRef","API","jsxDEV","_jsxDEV","AIAssistant","userId","_s2","userMessage","setUserMessage","conversation","setConversation","isLoading","setIsLoading","userProfile","setUserProfile","userSymptoms","setUserSymptoms","showIntro","setShowIntro","suggestedQuestions","setSuggestedQuestions","messagesEndRef","chatContainerRef","fetchUserData","fetchUserSymptoms","savedConversation","localStorage","getItem","JSON","parse","e","console","error","length","setItem","stringify","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","response","get","data","showErrorToast","generateSuggestedQuestions","symptoms","recentSymptoms","slice","customQuestions","map","symptom","description","toLowerCase","generalQuestions","sendMessageToAI","trim","newUserMessage","role","content","updatedConversation","setTimeout","post","message","reply","Error","_error$response","_error$response$data","prepareContext","profile","symptomSummary","summarizeSymptoms","symptomsGrouped","forEach","s","push","intensity","Object","keys","desc","avgIntensity","calculateAverage","occurrences","arr","reduce","a","b","handleKeyPress","key","shiftKey","preventDefault","useSuggestedQuestion","question","_document$getElementB","document","getElementById","focus","toast","createElement","className","textContent","body","appendChild","classList","add","removeChild","clearConversation","window","confirm","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","ref","msg","index","Date","toLocaleTimeString","hour","minute","_s","$RefreshSig$","id","placeholder","value","onChange","target","onKeyPress","disabled","jsx","_c","$RefreshReg$"],"sources":["C:/Users/39338/salus/salus-frontend/src/AIAssistant.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport API from './api';\n\nfunction AIAssistant({ userId }) {\n  const [userMessage, setUserMessage] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [userProfile, setUserProfile] = useState(null);\n  const [userSymptoms, setUserSymptoms] = useState([]);\n  const [showIntro, setShowIntro] = useState(true);\n  const [suggestedQuestions, setSuggestedQuestions] = useState([\n    \"Come posso alleviare il mal di testa?\",\n    \"Quali sono i sintomi più comuni dell'influenza?\",\n    \"Dovresti consultare un medico per mal di stomaco persistente?\",\n    \"Come posso migliorare la qualità del sonno?\",\n    \"Quali sono i benefici dell'esercizio fisico regolare?\"\n  ]);\n  \n  const messagesEndRef = useRef(null);\n  const chatContainerRef = useRef(null);\n\n  // Carica i dati dell'utente all'avvio\n  useEffect(() => {\n    if (userId) {\n      fetchUserData();\n      fetchUserSymptoms();\n      \n      // Carica la conversazione precedente dal localStorage\n      const savedConversation = localStorage.getItem(`aiConversation_${userId}`);\n      if (savedConversation) {\n        try {\n          setConversation(JSON.parse(savedConversation));\n          setShowIntro(false);\n        } catch (e) {\n          console.error('Errore nel parsing della conversazione salvata:', e);\n        }\n      }\n    }\n  }, [userId]);\n\n  // Salva la conversazione nel localStorage quando cambia\n  useEffect(() => {\n    if (userId && conversation.length > 0) {\n      localStorage.setItem(`aiConversation_${userId}`, JSON.stringify(conversation));\n    }\n  }, [conversation, userId]);\n\n  // Scroll automatico alla fine della conversazione\n  useEffect(() => {\n    scrollToBottom();\n  }, [conversation, isLoading]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const fetchUserData = async () => {\n    try {\n      const response = await API.get(`/auth/users/${userId}`);\n      setUserProfile(response.data);\n    } catch (error) {\n      console.error('Errore nel caricamento del profilo:', error);\n      showErrorToast('Impossibile caricare il profilo utente');\n    }\n  };\n\n  const fetchUserSymptoms = async () => {\n    try {\n      const response = await API.get(`/symptoms/${userId}`);\n      setUserSymptoms(response.data);\n      \n      // Genera domande suggerite in base ai sintomi\n      if (response.data.length > 0) {\n        generateSuggestedQuestions(response.data);\n      }\n    } catch (error) {\n      console.error('Errore nel caricamento dei sintomi:', error);\n      showErrorToast('Impossibile caricare i sintomi');\n    }\n  };\n\n  const generateSuggestedQuestions = (symptoms) => {\n    if (symptoms.length === 0) return;\n    \n    // Prendi i sintomi più recenti\n    const recentSymptoms = symptoms.slice(0, 3);\n    \n    // Genera domande personalizzate\n    const customQuestions = recentSymptoms.map(symptom => \n      `Come posso gestire il mio ${symptom.description.toLowerCase()}?`\n    );\n    \n    // Aggiungi domande generali\n    const generalQuestions = [\n      \"Quali sono i pattern nei miei sintomi?\",\n      \"Dovrei essere preoccupato per questi sintomi?\",\n      \"Cosa posso fare per migliorare il mio benessere generale?\"\n    ];\n    \n    setSuggestedQuestions([...customQuestions, ...generalQuestions].slice(0, 5));\n  };\n\n  const sendMessageToAI = async () => {\n    if (!userMessage.trim() && !isLoading) return;\n    \n    // Aggiungi il messaggio utente alla conversazione\n    const newUserMessage = { role: 'user', content: userMessage };\n    const updatedConversation = [...conversation, newUserMessage];\n    setConversation(updatedConversation);\n    setUserMessage('');\n    setShowIntro(false);\n    \n    // Prepara il contesto per OpenAI\n    setIsLoading(true);\n    \n    try {\n      // Animazione di \"sta scrivendo\"\n      setTimeout(() => {\n        scrollToBottom();\n      }, 100);\n      \n      // Versione semplificata della chiamata API\n      const response = await API.post('/ai/chat', {\n        message: newUserMessage.content\n      });\n      \n      // Se c'è una risposta, aggiungila alla conversazione\n      if (response.data && response.data.reply) {\n        // Aggiungi la risposta alla conversazione\n        setConversation([\n          ...updatedConversation, \n          { role: 'assistant', content: response.data.reply }\n        ]);\n      } else {\n        throw new Error('Risposta AI non valida');\n      }\n    } catch (error) {\n      console.error('Errore nella chiamata AI:', error);\n      setConversation([\n        ...updatedConversation, \n        { \n          role: 'assistant', \n          content: 'Mi dispiace, si è verificato un errore nella comunicazione. Riprova più tardi o controlla la tua connessione Internet.',\n          error: true\n        }\n      ]);\n      showErrorToast('Errore nella comunicazione con l\\'assistente: ' + (error.response?.data?.message || error.message));\n    } finally {\n      setIsLoading(false);\n      setTimeout(() => {\n        scrollToBottom();\n      }, 100);\n    }\n  };\n  \n  // Prepara il contesto con i dati dell'utente\n  const prepareContext = () => {\n    const recentSymptoms = userSymptoms.slice(0, 5);\n    return {\n      profile: userProfile,\n      recentSymptoms: recentSymptoms,\n      symptomSummary: summarizeSymptoms(userSymptoms)\n    };\n  };\n  \n  // Crea un riepilogo dei sintomi\n  const summarizeSymptoms = (symptoms) => {\n    const symptomsGrouped = {};\n    symptoms.forEach(s => {\n      if (!symptomsGrouped[s.description]) {\n        symptomsGrouped[s.description] = [];\n      }\n      symptomsGrouped[s.description].push(s.intensity);\n    });\n    \n    return Object.keys(symptomsGrouped).map(desc => ({\n      description: desc,\n      avgIntensity: calculateAverage(symptomsGrouped[desc]),\n      occurrences: symptomsGrouped[desc].length\n    }));\n  };\n  \n  const calculateAverage = (arr) => {\n    return arr.reduce((a, b) => a + b, 0) / arr.length;\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessageToAI();\n    }\n  };\n  \n  const useSuggestedQuestion = (question) => {\n    setUserMessage(question);\n    // Focus all'input\n    document.getElementById('messageInput')?.focus();\n  };\n  \n  const showErrorToast = (message) => {\n    // Implementazione semplice di un toast di errore\n    const toast = document.createElement('div');\n    toast.className = 'error-toast';\n    toast.textContent = message;\n    document.body.appendChild(toast);\n    \n    setTimeout(() => {\n      toast.classList.add('fade-out');\n      setTimeout(() => {\n        document.body.removeChild(toast);\n      }, 300);\n    }, 3000);\n  };\n  \n  const clearConversation = () => {\n    if (window.confirm('Sei sicuro di voler cancellare tutta la conversazione?')) {\n      setConversation([]);\n      setShowIntro(true);\n      localStorage.removeItem(`aiConversation_${userId}`);\n    }\n  };\n\n  return (\n    <div className=\"ai-assistant-container\">\n      <div className=\"section-header\">\n        <h2>\n          <i className=\"fas fa-robot\"></i> Assistente Salus AI\n        </h2>\n        {conversation.length > 0 && (\n          <button \n            className=\"btn btn-outline btn-sm\"\n            onClick={clearConversation}\n            title=\"Cancella conversazione\"\n          >\n            <i className=\"fas fa-trash-alt\"></i> Cancella\n          </button>\n        )}\n      </div>\n      \n      <div className=\"chat-container\" ref={chatContainerRef}>\n        <div className=\"chat-messages\">\n          {showIntro ? (\n            <div className=\"intro-message\">\n              <div className=\"assistant-avatar\">\n                <i className=\"fas fa-robot\"></i>\n              </div>\n              <div className=\"intro-content\">\n                <h3>Ciao! Sono il tuo assistente personale Salus.</h3>\n                <p>Sono qui per aiutarti con informazioni sulla salute, consigli per il benessere e per rispondere alle tue domande sui sintomi. Cosa posso fare per te oggi?</p>\n                <div className=\"capabilities\">\n                  <div className=\"capability\">\n                    <i className=\"fas fa-notes-medical\"></i>\n                    <span>Informazioni sui sintomi</span>\n                  </div>\n                  <div className=\"capability\">\n                    <i className=\"fas fa-heartbeat\"></i>\n                    <span>Consigli per il benessere</span>\n                  </div>\n                  <div className=\"capability\">\n                    <i className=\"fas fa-pills\"></i>\n                    <span>Informazioni sui medicinali</span>\n                  </div>\n                  <div className=\"capability\">\n                    <i className=\"fas fa-chart-line\"></i>\n                    <span>Analisi dei pattern</span>\n                  </div>\n                </div>\n                <div className=\"disclaimer\">\n                  <i className=\"fas fa-info-circle\"></i>\n                  <p>Ricorda: non sono un medico e non posso fornire diagnosi mediche. Per problemi di salute seri, consulta sempre un professionista sanitario.</p>\n                </div>\n              </div>\n            </div>\n          ) : null}\n          \n          {conversation.map((msg, index) => (\n            <div\n              key={index}\n              className={`message ${msg.role === 'user' ? 'message-user' : 'message-assistant'} ${msg.error ? 'message-error' : ''}`}\n            >\n              {msg.role === 'assistant' && (\n                <div className=\"message-avatar\">\n                  <i className=\"fas fa-robot\"></i>\n                </div>\n              )}\n              <div className=\"message-content\">\n                <div className=\"message-text\">{msg.content}</div>\n                <div className=\"message-time\">\n                  {new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                </div>\n              </div>\n            </div>\n          ))}\n          \n          {isLoading && (\n            <div className=\"message message-assistant message-typing\">\n              <div className=\"message-avatar\">\n                <i className=\"fas fa-robot\"></i>\n              </div>\n              <div className=\"message-content\">\n                <div className=\"typing-indicator\">\n                  <span></span>\n                  <span></span>\n                  <span></span>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div ref={messagesEndRef} />\n        </div>\n        \n        {/* Domande suggerite */}\n        {suggestedQuestions.length > 0 && showIntro && (\n          <div className=\"suggested-questions\">\n            <h4>Domande suggerite:</h4>\n            <div className=\"questions-container\">\n              {suggestedQuestions.map((question, index) => (\n                <button \n                  key={index}\n                  className=\"suggested-question\"\n                  onClick={() => useSuggestedQuestion(question)}\n                >\n                  {question}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n        \n        <div className=\"chat-input-container\">\n          <textarea\n            id=\"messageInput\"\n            className=\"chat-input\"\n            placeholder=\"Scrivi un messaggio...\"\n            value={userMessage}\n            onChange={(e) => setUserMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            disabled={isLoading}\n          />\n          <button \n            className={`send-button ${userMessage.trim() && !isLoading ? 'active' : ''}`}\n            onClick={sendMessageToAI}\n            disabled={!userMessage.trim() || isLoading}\n          >\n            <i className=\"fas fa-paper-plane\"></i>\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"powered-by\">\n        Powered by <span className=\"brand\">OpenAI</span> <i className=\"fas fa-bolt\"></i>\n      </div>\n      \n      {/* Stili specifici del componente */}\n      <style jsx>{`\n        .ai-assistant-container {\n          padding: var(--space-2);\n        }\n        \n        .section-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: var(--space-4);\n        }\n        \n        .section-header h2 {\n          margin: 0;\n          color: var(--gray-800);\n          display: flex;\n          align-items: center;\n          gap: var(--space-2);\n        }\n        \n        .section-header h2 i {\n          color: var(--primary-600);\n        }\n        \n        .chat-container {\n          display: flex;\n          flex-direction: column;\n          height: 60vh;\n          min-height: 400px;\n          border-radius: var(--radius-lg);\n          overflow: hidden;\n          background-color: var(--gray-100);\n          box-shadow: var(--shadow-md);\n          border: 1px solid var(--gray-200);\n        }\n        \n        .chat-messages {\n          flex: 1;\n          overflow-y: auto;\n          padding: var(--space-4);\n          display: flex;\n          flex-direction: column;\n          gap: var(--space-3);\n        }\n        \n        .message {\n          display: flex;\n          max-width: 85%;\n          margin-bottom: var(--space-3);\n          animation: fadeIn 0.3s ease;\n        }\n        \n        .message-user {\n          margin-left: auto;\n          flex-direction: row-reverse;\n        }\n        \n        .message-assistant {\n          margin-right: auto;\n        }\n        \n        .message-avatar {\n          width: 36px;\n          height: 36px;\n          border-radius: 50%;\n          background-color: var(--primary-600);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: var(--space-2);\n        }\n        \n        .message-content {\n          background-color: var(--white);\n          padding: var(--space-3);\n          border-radius: var(--radius-lg);\n          box-shadow: var(--shadow-sm);\n          position: relative;\n        }\n        \n        .message-user .message-content {\n          background-color: var(--primary-600);\n          color: var(--white);\n          border-bottom-right-radius: var(--space-1);\n        }\n        \n        .message-assistant .message-content {\n          background-color: var(--white);\n          border-bottom-left-radius: var(--space-1);\n        }\n        \n        .message-error .message-content {\n          background-color: var(--danger);\n          color: var(--white);\n        }\n        \n        .message-text {\n          word-break: break-word;\n        }\n        \n        .message-time {\n          font-size: var(--font-size-xs);\n          color: var(--gray-500);\n          margin-top: var(--space-1);\n          text-align: right;\n        }\n        \n        .message-user .message-time {\n          color: rgba(255, 255, 255, 0.7);\n        }\n        \n        .message-typing {\n          opacity: 0.7;\n        }\n        \n        .typing-indicator {\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          gap: 5px;\n        }\n        \n        .typing-indicator span {\n          width: 8px;\n          height: 8px;\n          background-color: var(--gray-400);\n          border-radius: 50%;\n          display: inline-block;\n          animation: typing 1.4s infinite both;\n        }\n        \n        .typing-indicator span:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n        \n        .typing-indicator span:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n        \n        @keyframes typing {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.5); }\n          100% { transform: scale(1); }\n        }\n        \n        .intro-message {\n          display: flex;\n          padding: var(--space-4);\n          background-color: var(--white);\n          border-radius: var(--radius-lg);\n          margin-bottom: var(--space-3);\n          box-shadow: var(--shadow-md);\n        }\n        \n        .assistant-avatar {\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          background-color: var(--primary-600);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: var(--space-3);\n          flex-shrink: 0;\n          font-size: var(--font-size-lg);\n        }\n        \n        .intro-content {\n          flex: 1;\n        }\n        \n        .intro-content h3 {\n          margin-top: 0;\n          margin-bottom: var(--space-2);\n          color: var(--gray-900);\n        }\n        \n        .capabilities {\n          display: flex;\n          flex-wrap: wrap;\n          gap: var(--space-3);\n          margin: var(--space-3) 0;\n        }\n        \n        .capability {\n          display: flex;\n          align-items: center;\n          background-color: var(--primary-100);\n          padding: var(--space-2) var(--space-3);\n          border-radius: var(--radius-full);\n          font-size: var(--font-size-sm);\n          color: var(--primary-800);\n        }\n        \n        .capability i {\n          margin-right: var(--space-2);\n          color: var(--primary-600);\n        }\n        \n        .disclaimer {\n          display: flex;\n          align-items: flex-start;\n          gap: var(--space-2);\n          background-color: var(--gray-100);\n          padding: var(--space-3);\n          border-radius: var(--radius-md);\n          font-size: var(--font-size-sm);\n          color: var(--gray-700);\n          margin-top: var(--space-3);\n        }\n        \n        .disclaimer i {\n          color: var(--warning);\n          margin-top: 3px;\n        }\n        \n        .disclaimer p {\n          margin: 0;\n        }\n        \n        .suggested-questions {\n          padding: var(--space-3);\n          background-color: var(--gray-100);\n          border-top: 1px solid var(--gray-200);\n        }\n        \n        .suggested-questions h4 {\n          margin-top: 0;\n          margin-bottom: var(--space-2);\n          font-size: var(--font-size-sm);\n          color: var(--gray-600);\n        }\n        \n        .questions-container {\n          display: flex;\n          flex-wrap: wrap;\n          gap: var(--space-2);\n        }\n        \n        .suggested-question {\n          background-color: var(--white);\n          border: 1px solid var(--gray-300);\n          border-radius: var(--radius-full);\n          padding: var(--space-1) var(--space-3);\n          font-size: var(--font-size-sm);\n          color: var(--gray-800);\n          cursor: pointer;\n          transition: all var(--transition-normal);\n        }\n        \n        .suggested-question:hover {\n          background-color: var(--primary-100);\n          border-color: var(--primary-400);\n          color: var(--primary-700);\n        }\n        \n        .chat-input-container {\n          padding: var(--space-3);\n          background-color: var(--white);\n          border-top: 1px solid var(--gray-200);\n          display: flex;\n          gap: var(--space-2);\n          align-items: flex-end;\n        }\n        \n        .chat-input {\n          flex: 1;\n          padding: var(--space-3);\n          padding-right: 40px;\n          border: 1px solid var(--gray-300);\n          border-radius: var(--radius-lg);\n          resize: none;\n          min-height: 56px;\n          max-height: 150px;\n          transition: border-color var(--transition-normal);\n          background-color: var(--white);\n          font-family: var(--font-family);\n          line-height: 1.5;\n        }\n        \n        .chat-input:focus {\n          outline: none;\n          border-color: var(--primary-400);\n          box-shadow: 0 0 0 3px rgba(60, 157, 233, 0.1);\n        }\n        \n        .send-button {\n          position: relative;\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          background-color: var(--gray-300);\n          border: none;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          color: var(--white);\n          transition: all var(--transition-normal);\n        }\n        \n        .send-button:disabled {\n          cursor: not-allowed;\n          opacity: 0.5;\n        }\n        \n        .send-button.active {\n          background-color: var(--primary-600);\n        }\n        \n        .send-button.active:hover {\n          background-color: var(--primary-700);\n          transform: scale(1.05);\n        }\n        \n        .powered-by {\n          text-align: center;\n          font-size: var(--font-size-xs);\n          color: var(--gray-500);\n          margin-top: var(--space-3);\n        }\n        \n        .brand {\n          font-weight: 600;\n          color: var(--gray-700);\n        }\n        \n        .error-toast {\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          background-color: var(--danger);\n          color: white;\n          padding: var(--space-3) var(--space-4);\n          border-radius: var(--radius-md);\n          box-shadow: var(--shadow-md);\n          z-index: 1000;\n          animation: slideInUp 0.3s ease;\n        }\n        \n        .fade-out {\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n        \n        @media (max-width: 768px) {\n          .chat-container {\n            height: 70vh;\n          }\n          \n          .capabilities {\n            flex-direction: column;\n            gap: var(--space-2);\n          }\n          \n          .intro-message {\n            flex-direction: column;\n          }\n          \n          .assistant-avatar {\n            margin-bottom: var(--space-3);\n            align-self: center;\n            width: 64px;\n            height: 64px;\n            font-size: var(--font-size-xl);\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nexport default AIAssistant; "],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAAC5G,GAAA,CAptBQF,WAAW;AAAAkI,EAAA,GAAXlI,WAAW;AAstBpB,eAAeA,WAAW;AAAC,IAAAkI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}