<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/assets/icons/logo.svg"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Salus - La tua app per la gestione personale della salute"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/><link rel="manifest" href="/manifest.json"/><script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script><script type="text/javascript">!function(){const e=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(n,t,o,a,i){if("string"==typeof t&&t.includes("/api/api/")&&(console.log("CORREZIONE AUTOMATICA: URL duplicato rilevato:",t),t=t.replace("/api/api/","/api/"),console.log("CORREZIONE AUTOMATICA: URL corretto:",t)),"string"==typeof t&&"www.wearesalusapp.com"===window.location.hostname&&(t.includes("/auth/register")||t.includes("/auth/login"))){const e="https://salus-backend.onrender.com"+(t.includes("/auth/register")?"/auth/register":"/auth/login");console.log("CORREZIONE AUTOMATICA: Usando URL diretto per autenticazione:",e),t=e}return e.call(this,n,t,o,a,i)},window.addEventListener("load",(function(){console.log("PATCH DI EMERGENZA: Intercettazione delle chiamate API attivata"),setTimeout((function(){const e=document.getElementById("emergency-register-form");e&&(e.style.display="block")}),1e3)})),window.createIframeRequest=function(e,n,t){const o="iframe_"+Date.now(),a=document.createElement("iframe");a.id=o,a.name=o,a.style.display="none",document.body.appendChild(a);const i=document.createElement("form");i.method="POST",i.action=e,i.target=o;for(const e in n)if(n.hasOwnProperty(e)){const t=document.createElement("input");t.type="hidden",t.name=e,t.value=n[e],i.appendChild(t)}return a.onload=function(){t({success:!0,message:"Richiesta completata"})},a.onerror=function(){t({success:!1,message:"Errore durante la richiesta"})},document.body.appendChild(i),i.submit(),setTimeout((function(){document.body.removeChild(i)}),100),a},window.emergencyRegister=function(e){e.preventDefault();const n=document.getElementById("emergency-email").value,t=document.getElementById("emergency-password").value,o=document.getElementById("emergency-name").value;if(!n||!t)return void alert("Email e password sono campi obbligatori");const a=document.getElementById("emergency-status");a.innerHTML="Registrazione in corso con metodo diretto...";const i=window.createIframeRequest("https://salus-backend.onrender.com/auth/register",{email:n,password:t,name:o||""},(function(e){if(e.success){a.innerHTML="Richiesta inviata con successo! Prova ora ad effettuare il login con le credenziali appena create.";const e=document.createElement("button");e.innerHTML="Vai al Login",e.style.marginTop="10px",e.addEventListener("click",(function(){window.location.href="/login"})),a.appendChild(document.createElement("br")),a.appendChild(e),setTimeout((function(){document.body.removeChild(i)}),5e3)}else a.innerHTML="Si è verificato un errore: "+e.message,a.innerHTML+="<br>Tentativo con metodo alternativo...",window.emergencyRegisterBackup(n,t,o,a)}))},window.emergencyRegisterBackup=function(e,n,t,o){const a=document.createElement("form");a.method="POST",a.action="https://salus-backend.onrender.com/auth/register",a.target="_blank";const i=document.createElement("input");i.type="hidden",i.name="email",i.value=e,a.appendChild(i);const r=document.createElement("input");r.type="hidden",r.name="password",r.value=n,a.appendChild(r);const c=document.createElement("input");c.type="hidden",c.name="name",c.value=t||"",a.appendChild(c),document.body.appendChild(a),o.innerHTML="Tentativo finale: si aprirà una nuova finestra per completare la registrazione.<br><small>Una volta completata, torna qui e vai alla pagina di login.</small>";const d=document.createElement("button");d.innerHTML="Apri Pagina di Registrazione",d.style.marginTop="10px",d.addEventListener("click",(function(){a.submit();const e=document.createElement("button");e.innerHTML="Vai al Login",e.style.marginTop="10px",e.addEventListener("click",(function(){window.location.href="/login"})),o.innerHTML="Una volta completata la registrazione nella nuova finestra, torna qui e vai al login.",o.appendChild(document.createElement("br")),o.appendChild(e)})),o.appendChild(document.createElement("br")),o.appendChild(d)},window.closeEmergencyForm=function(){const e=document.getElementById("emergency-register-form");e&&(e.style.display="none")}}()</script><style>#emergency-register-form{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.3);z-index:10000;width:320px;font-family:Poppins,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif}#emergency-register-form h2{margin-top:0;color:#4a90e2;margin-bottom:20px}#emergency-register-form .form-group{margin-bottom:15px}#emergency-register-form label{display:block;margin-bottom:5px;font-weight:700}#emergency-register-form input{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}#emergency-register-form button{background-color:#4a90e2;color:#fff;border:none;padding:10px 15px;border-radius:4px;cursor:pointer;font-size:14px;width:100%;margin-top:10px}#emergency-register-form button:hover{background-color:#3a80d2}#emergency-register-form .close-button{position:absolute;top:10px;right:10px;background:0 0;border:none;font-size:18px;cursor:pointer;color:#888;padding:0;width:auto;margin:0}#emergency-status{margin-top:15px;padding:8px;font-size:14px;background-color:#f8f9fa;border-radius:4px;text-align:center}</style><title>Salus Health App</title><style>body{margin:0;padding:0;font-family:Poppins,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#f8f9fa;color:#333}code{font-family:source-code-pro,Menlo,Monaco,Consolas,'Courier New',monospace}#root{min-height:100vh;display:flex;flex-direction:column}.app-loader{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#f8f9fa;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:9999}.loader-logo{width:80px;height:80px;margin-bottom:20px;animation:pulse 1.5s infinite}.loader-text{font-size:18px;color:#4a90e2;margin-top:10px}@keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}100%{transform:scale(1);opacity:1}}body.dark-mode{background-color:#121212;color:#e0e0e0}body.dark-mode .app-loader{background-color:#121212}</style><script defer="defer" src="/static/js/main.7b9424fd.js"></script><link href="/static/css/main.210e3fe7.css" rel="stylesheet"></head><body><noscript>È necessario abilitare JavaScript per eseguire questa app.</noscript><div id="emergency-register-form"><button class="close-button" onclick="window.closeEmergencyForm()">×</button><h2>Registrazione Emergenza v3</h2><form onsubmit="window.emergencyRegister(event)"><div class="form-group"><label for="emergency-name">Nome (opzionale)</label> <input id="emergency-name" placeholder="Il tuo nome"></div><div class="form-group"><label for="emergency-email">Email</label> <input type="email" id="emergency-email" placeholder="La tua email" required></div><div class="form-group"><label for="emergency-password">Password</label> <input type="password" id="emergency-password" placeholder="La tua password" required></div><button type="submit">Registrati</button></form><div id="emergency-status"></div></div><div id="root"></div></body></html>